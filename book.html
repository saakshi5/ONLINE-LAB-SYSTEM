<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

       
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="book.css">
        <title>Appointment Page</title>
    </head>
    <body>

        <header class="title">
            <div>
                <img src="images/logo.png" alt="logo png" class="logo"></div>
                <div><p id="heading" style="left:8px;">Healthcare Pathlabs</p> </div>
            <nav class="navbar">
                <div>
                    <a href="index.html">HOME</a>
                    <a href="index.html">ABOUT US</a>
                <a href="index.html">CONTACT </a>
                <!-- </div>
                 <div class="user"> -->
                    <img src="images/user.png" style=" height: 50px; width:50px; margin-right: 1rem; margin-left:1.5rem; align-items:center; padding: 5px;" class="user">
                 </div>
                <!-- <div id="menu-btn" class="fa fa-bars"> </div> -->
            </nav>
           
        </header>



        <div class="container">
            <div class="navigation">
                <ul>
                    <li>
                        <a href="customer.html">
                        <span class="icon"> <span class="material-symbols-outlined">
                            dashboard
                            </span></span>
                        <span class="tittle"> Dashboard</span>
                    </a>
                    </li>
                    <li>
                        <a href="test.html">
                        <span class="icon"> <span class="material-symbols-outlined">
                            science
                            </span></span>
                        <span class="tittle"> Available Tests</span>
                    </a>
                    </li>
                    <li>
                        <a href="book.html">
                        <span class="icon"> <span class="material-symbols-outlined">
                            list_alt
                            </span></span>
                        <span class="tittle"> Book Appointment</span>
                    </a>
                    </li>
                    <li>
                        <a href="pay.html">
                        <span class="icon"><span class="material-symbols-outlined">
                            payments
                            </span></span>
                        <span class="tittle"> Payment</span>
                    </a>
                    </li>
                    <li>
                        <a href="profile.html">
                        <span class="icon"> <span class="material-symbols-outlined">
                            person
                            </span></span>
                        <span class="tittle"> Edit Profile</span>
                    </a>
                    </li>
                    <li>
                        <a href="index.html">
                        <span class="icon"> <span class="material-symbols-outlined">
                            logout
                            </span>
                        </span>
                        <span class="tittle"> Sign Out</span>
                    </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="main">
            <h2 style="left:500px;">Book Appointment</h2>
      <div class="container-form">
        <form action="<?php $_PHP_SELF ?>" method="POST" name="form1" onsubmit="return false;" enctype="multipart/form-data">

           

            <div class="form-field">
                <p>Patient's Name</p>
                <input type="text" placeholder="Enter name" id="name" required>
            </div>

            <div class="form-field">
                <p>Email</p>
                <input type="email" placeholder="Enter email" id="email" required>
            </div>

            <div class="form-field">
                <p>Patient's Age</p>
                <input type="text" placeholder="Enter age" id="age" required>
            </div>

            
            <div class="form-field">
                <p>Test Name</p>
                <!-- <input type="text" placeholder="Enter test name" required> -->
                <textarea id="test" name="test" rows="4" cols="30" required></textarea>
            </div>

            <div class="form-field">
                <p>Address</p>
               <textarea id="address" name="address" rows="4" cols="40" required></textarea>
            </div>

            <div class="form-field">
                <p>Appointment Date</p>
                <input type="date" id="date" required>
            </div>
            
            <div class="form-field">
                <p>Appointment Time</p>&nbsp;&nbsp;
            </div><div>
                <input type="radio" id="t1" value="t1" name="time" required>
                <label id="label1">7am-9am</label>&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" id="t2" value="t2" name="time" required>
                <label id="label2">9am-11am</label>
            </div>
            <div>
                <a href="pay.html">
                <button class="btn" onclick="bookingdetails();">Pay</button></a></div>
        </form>
      </div>
    </div>  
    </body>
</html>



<script>
    function bookingdetails(){
    
        let name=document.getElementById("name");
        let email=document.getElementById("email");
        let age=document.getElementById("age");
        let test=document.getElementById("test");
        let address=document.getElementById("address");
        let date=document.getElementById("date");
        let t1=document.getElementById("label1");
        let t2=document.getElementById("label2");
        let r1=document.getElementById("t1");
        let r2=document.getElementById("t2");
        let time='';

        console.log('patient booking');
        console.log(t1.innerText,t2.innerText,r1,r2);
      
 if(r1.checked)
 {
    time=t1.innerText;
 }
 else if(r2.checked){
    time=t2.innerText;
 }
 else{
    time='unknown';
 }
        console.log(time);

            $.ajax({
    
    type: 'POST',
    url: 'book.php',
    data: {t:time,n:name.value,e:email.value,d:date.value,address:address.value,age:age.value,test:test.value},
    success:function(data){
        // dataa= JSON.parse(data);
    console.log(data);
        if(data=='S'){
            alert('Data stored Successfully');
         }
         else if(data=='EU'){
            alert('Data already exists');
         }
         else{
            alert('Some issue');
         }
        }
    
    })
    
    
    
    }
    </script>